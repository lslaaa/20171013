var game={_init:function(){var a=game;a._listen()},_listen:function(){var a=game;$(function(){$(".J_file").on("change",function(){var b=$(".J_file").index(this);return a.bool_sending?!1:(a.upload_index=b,a.bool_sending=!0,void lrz(this.files[0],{width:640}).then(function(b){$.ajax({url:"/index.php?mod=game&extra=upload",type:"post",data:{pic:b.base64},dataType:"json",timeout:2e5,error:function(a){alert("Data Saved: "+a)},success:function(b){a.upload_success(b)}})})["catch"](function(a){}).always(function(){}))})}),$("#J_send").click(function(){return"upload"==$("#J_form_do").val()?!0:a._verify()?a.bool_sending?!1:($("#J_error_tip").css("display","none"),$(".J_file").attr("disabled",!0),$("#J_form_do").val("add"),a.bool_sending=!0,_ajax_frame(get_obj("ajaxframeid"),a.send_success,"send_success"),void setTimeout(function(){$("#J_send_form").submit()},100)):!1})},_listen_refresh:function(){$("#J_refresh_check_code").click(function(){$("#J_check_code_pic").attr("src","/index/check_code?"+Math.random())})},_listen_verify_game:function(){var a=game;$("#J_game").blur(function(){var b=new Object;b.game=$("#J_game").val(),_ajax_jsonp("/service/verify_game",a._verify_game_success,b)})},_verify_game_success:function(a){302==a.status&&($("#J_error_tip").html(a.info),$("#J_error_tip").css("display",""))},_verify:function(){var a=!0;return $(".J_file_url").each(function(){console.log($(this).val()),$(this).val()||(make_alert_html("提示","请上传您的淘宝截图"),a=!1)}),a?!0:!1},upload_success:function(a){var b=game,c=b.upload_index;return _remove_ajax_frame("upload_success"),weui_loading_remove(),$(".J_file").attr("disabled",!1),$("#J_form_do").val(""),200!=a.status?(b.bool_sending=!1,make_alert_html("提示",a.info),!1):(b.bool_sending=!1,$(".icon-jia1").eq(c).css({"background-image":"url("+a.data+")","background-size":"1.3rem","background-repeat":"no-repeat"}),void $(".J_file_url").eq(c).val(a.data))},send_success:function(a){var b=game;return $(".J_file").attr("disabled",!1),_remove_ajax_frame("send_success"),b.bool_sending=!1,weui_loading_remove(),200!=a.status?(make_alert_html("提示",a.info),!1):void make_alert_html(arr_language.notice,a.info,"/i/my_task/status-105")}};