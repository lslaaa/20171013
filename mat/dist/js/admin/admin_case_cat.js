var admin_case_cat={_this:"",_init:function(){$("#J_add_level_one").click(function(){var a=$(this),b=new Object;if(b.pid=0,b._do="add",b.cid=0,b.name="","object"==typeof json_languages)for(var c,d=0;c=json_languages[d++];)b["name_"+c.cname]="";b.url="",b.sort=200;var e=admin_case_cat.make_html(b);a.parent().next(".J_submit_from").html(e),admin_case_cat.listen_send()}),$(".J_show_hide_menu_add").click(function(){$(".J_submit_from").html("");var a=$(this),b=a.parent().parent(),c=new Object;if(c.pid=b.attr("data-cid"),c._do="add",c.cid=0,c.name="","object"==typeof json_languages)for(var d,e=0;d=json_languages[e++];)c["name_"+d.cname]="";c.url="",c.sort=200;var f=admin_case_cat.make_html(c);a.parent().next(".J_submit_from").html(f),admin_case_cat.listen_send()}),$(".J_show_hide_menu_mod").click(function(){$(".J_submit_from").html("");var a=$(this),b=a.parent().parent(),c=b.attr("data-cid");_ajax_jsonp("/admin.php?mod=case&mod_dir=case&extra=get_one_cat&cid="+c,admin_case_cat._mod),admin_case_cat._this=a}),$(".J_show_hide_menu_del").click(function(){$(".J_submit_from").html("");var a=$(this);confirm_cancle(admin_case_cat._del,arr_language.warn,arr_language.del_2),admin_case_cat._this=a})},listen_send:function(){$("#J_btn_send").unbind("click"),$("#J_btn_cancel").unbind("click"),$("#J_btn_send").click(function(){admin_case_cat.verify()}),$("#J_btn_cancel").click(function(){$(".J_submit_from").html("")})},_mod:function(a){var b=admin_case_cat._this,a=a.data;a._do="mod";var c=admin_case_cat.make_html(a);b.parent().next(".J_submit_from").html(c),admin_case_cat.listen_send()},_del:function(){var a=admin_case_cat._this,b=a.parent().parent();b.attr("data-cid")},_del_success:function(a){200==a.status&&(window.location.href=window.location.href)},verify:function(){var a=$("#J_name");if(!a.val())return make_alert_html(arr_language.warn,arr_language.page.error_3),!1;if("object"==typeof json_languages)for(var b,c=0;b=json_languages[c++];){var d=$("#J_name_"+b.cname);if(!d.val())return make_alert_html(arr_language.warn,b.name+arr_language.mall.item_cat.error_1),!1}var e=$("#J_sort");return e.val()?admin_case_cat.bool_sending?!1:(_ajax_frame(get_obj("ajaxframeid"),admin_case_cat.send_success,"send_success"),$("#J_send_form").submit(),void(admin_case_cat.bool_sending=!0)):(make_alert_html(arr_language.warn,arr_language.setting.menu.error_3),!1)},send_success:function(a){return _remove_ajax_frame("send_success"),200!=a.status?(admin_case_cat.bool_sending=!1,make_alert_html(arr_language.warn,a.info),!1):void(window.location.href=window.location.href)},make_html:function(a){var b='<form action="" method="post" id="J_send_form" target="ajaxframeid"><input type="hidden" name="formhash" value="'+str_formhash+'"/><input type="hidden" id="J_pid" name="pid" value="'+a.pid+'"/><input type="hidden" id="J_do" name="_do" value="'+a._do+'"/><input type="hidden" id="J_id" name="cid" value="'+a.cid+'"/><input class="J_callback" type="hidden" name="callback" value="parent.send_success"><div class="add_box"><em>'+arr_language.cat+':</em><input type="text" id="J_name" name="name" value="'+a.name+'">';if("object"==typeof json_languages)for(var c,d=0;c=json_languages[d++];)b+="<em>"+c.name+':</em><input type="text" id="J_name_'+c.cname+'" name="name_'+c.cname+'" value="'+a["name_"+c.cname]+'">';return b+="<em>"+arr_language.sort+':</em><input type="text" id="J_sort" name="sort" value="'+a.sort+'"><a id="J_btn_send" class="blue_nav">'+arr_language.send+'</a><a id="J_btn_cancel" class="gray_nav">'+arr_language.cancel+"</a></div></form>"}};